# üî≠ OMNISCOPE ‚Äî –ú–∞—Å—Ç–µ—Ä-–ø–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

> **–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç** ‚Äî –≥–ª–∞–≤–Ω—ã–π –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è AI IDE
> (Cursor, Claude Code, Windsurf –∏ –ª—é–±–æ–≥–æ –∞–≥–µ–Ω—Ç–∞ —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ —Ç–µ—Ä–º–∏–Ω–∞–ª—É).
> –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã —è–≤–ª—è—é—Ç—Å—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∞—Å–ø–µ–∫—Ç–æ–≤.

---

## 0. –ö–∞—Ä—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–µ–∂–¥–µ —á–µ–º –ø–∏—Å–∞—Ç—å –∫–æ–¥ ‚Äî –ø—Ä–æ—á–∏—Ç–∞–π –Ω—É–∂–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç.

```
OMNISCOPE_AI_PLAN.md        ‚Üê –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, —Å—Ç–µ–∫, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö, CLI API
OMNISCOPE_VIM_MOTIONS.md    ‚Üê –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è: 7 —Ä–µ–∂–∏–º–æ–≤, grammar, operators
OMNISCOPE_SCIENCE.md        ‚Üê –ù–∞—É—á–Ω—ã–π –º–æ–¥—É–ª—å: –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã, arXiv, Sci-Hub, CrossRef
OMNISCOPE_AI_SYSTEM.md      ‚Üê Omniscope AI: –ø–∞–º—è—Ç—å, Action Protocol, –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã, RAG
OMNISCOPE_MASTER_PLAN.md    ‚Üê [—ç—Ç–æ—Ç —Ñ–∞–π–ª] –§–∞–∑—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –∑–∞–¥–∞—á–∏, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

### –ß—Ç–æ –≥–¥–µ –∏—Å–∫–∞—Ç—å

| –ù—É–∂–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ... | –ß–∏—Ç–∞—Ç—å |
|---|---|
| –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Cargo workspace, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ | `AI_PLAN ¬ß1` |
| JSON-—Å—Ö–µ–º–∞ `BookCard` | `AI_PLAN ¬ß2` |
| SQLite —Å—Ö–µ–º–∞, —Ñ–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ | `AI_PLAN ¬ß2` |
| SLA –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (< 100ms —Å—Ç–∞—Ä—Ç –∏ –¥—Ä.) | `AI_PLAN ¬ß17` |
| –ü–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∞ CLI –∫–æ–º–∞–Ω–¥ (`omniscope book ...`) | `AI_PLAN ¬ß18` |
| 7 —Ä–µ–∂–∏–º–æ–≤, –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã, text-objects, marks | `VIM_MOTIONS ¬ß1-9` |
| Registers, macros, quickfix | `VIM_MOTIONS ¬ß9-11` |
| DOI, arXiv, ISBN, PMID ‚Äî –≤—Å–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã | `SCIENCE ¬ß1` |
| arXiv API, –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫ | `SCIENCE ¬ß2` |
| Anna's Archive, Sci-Hub ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è | `SCIENCE ¬ß3` |
| CrossRef, Semantic Scholar, OpenAlex | `SCIENCE ¬ß4` |
| BibTeX, CSL, RIS ‚Äî —Ñ–æ—Ä–º–∞—Ç—ã | `SCIENCE ¬ß5-6` |
| Library Map ‚Äî —Ç—Ä–∏ —Å–ª–æ—è –ø–∞–º—è—Ç–∏ | `AI_SYSTEM ¬ß1` |
| Action Protocol ‚Äî –≤—Å–µ —Ç–∏–ø—ã –¥–µ–π—Å—Ç–≤–∏–π | `AI_SYSTEM ¬ß2` |
| –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã Omniscope (TUI/CLI/MCP/auto) | `AI_SYSTEM ¬ß3` |
| –ö–∞—Ç–∞–ª–æ–≥ AI-–∑–∞–¥–∞—á (–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏) | `AI_SYSTEM ¬ß4` |
| –≠–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤, –∫—ç—à, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ | `AI_SYSTEM ¬ß5-7` |
| User Profile, –ø—Ä–æ–∞–∫—Ç–∏–≤–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è | `AI_SYSTEM ¬ß8` |
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å AI-–∞–≥–µ–Ω—Ç–æ–≤, watchdog | `AI_SYSTEM ¬ß9` |

---

## 1. –ö–æ–Ω—Ü–µ–ø—Ü–∏—è –∏ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã

–≠—Ç–∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã **–Ω–µ –º–µ–Ω—è—é—Ç—Å—è** –º–µ–∂–¥—É —Ñ–∞–∑–∞–º–∏. –õ—é–±–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø—Ä–æ—Ç–∏–≤ –Ω–∏—Ö.

```
"–ö–Ω–∏–≥–∞ = JSON-–∫–∞—Ä—Ç–æ—á–∫–∞ + —Ñ–∞–π–ª"     –§–∞–π–ª –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω. –ö–∞—Ä—Ç–æ—á–∫–∞ ‚Äî –Ω–µ—Ç.
"–û—Ç–∫—Ä—ã–≤–∞–π, –Ω–µ —á–∏—Ç–∞–π"               Omniscope –Ω–µ —Ä–∏–¥–µ—Ä. –¢–æ–ª—å–∫–æ –º–µ–Ω–µ–¥–∂–µ—Ä.
"CLI = –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å"      –í—Å—ë —á—Ç–æ –¥–µ–ª–∞–µ—Ç —á–µ–ª–æ–≤–µ–∫ –≤ TUI ‚Äî AI –¥–µ–ª–∞–µ—Ç —á–µ—Ä–µ–∑ CLI.
"–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å ‚Äî –Ω–µ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å"  –•–æ–ª–æ–¥–Ω—ã–π —Å—Ç–∞—Ä—Ç < 100ms. –ü–æ–∏—Å–∫ < 50ms. –ù–∞–≤—Å–µ–≥–¥–∞.
"AI –¥–µ–π—Å—Ç–≤—É–µ—Ç, –Ω–µ –±–æ–ª—Ç–∞–µ—Ç"         Omniscope –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON-–¥–µ–π—Å—Ç–≤–∏—è, –Ω–µ —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç.
"–ö–∞–∂–¥–æ–µ AI-–¥–µ–π—Å—Ç–≤–∏–µ –æ–±—Ä–∞—Ç–∏–º–æ"      –õ–æ–≥ + snapshot_before –¥–ª—è –ª—é–±–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è.
"Vim ‚Äî —è–∑—ã–∫, –Ω–µ —Ö–æ—Ç–∫–µ–∏"           [count][verb][noun] ‚Äî –≥—Ä–∞–º–º–∞—Ç–∏–∫–∞, –Ω–µ –Ω–∞–±–æ—Ä –±–∏–Ω–¥–∏–Ω–≥–æ–≤.
```

---

## 2. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ ‚Äî —Å–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ: `AI_PLAN ¬ß1`

```
omniscope/
‚îú‚îÄ‚îÄ omniscope-core/      [Rust]    –í—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞. –ù–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç TUI.
‚îú‚îÄ‚îÄ omniscope-tui/       [Rust]    ratatui + crossterm. –¢–æ–ª—å–∫–æ UI.
‚îú‚îÄ‚îÄ omniscope-cli/       [Rust]    –ë–∏–Ω–∞—Ä–Ω–∏–∫ `omniscope`. –û–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ core.
‚îú‚îÄ‚îÄ omniscope-ai/        [Rust]    Omniscope AI: –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã, –ø—Ä–æ–º–ø—Ç—ã, actions.
‚îú‚îÄ‚îÄ omniscope-science/   [Rust]    arXiv, DOI, CrossRef, Anna's, Sci-Hub.
‚îú‚îÄ‚îÄ omniscope-server/    [Rust]    axum HTTP + WebSocket + MCP.
‚îî‚îÄ‚îÄ omniscope-ffi/       [C/C++]   libmagic, poppler, libepub ‚Äî —á–µ—Ä–µ–∑ FFI.
```

| –°–ª–æ–π | –ö–ª—é—á–µ–≤—ã–µ –∫—Ä–µ–π—Ç—ã |
|---|---|
| –•—Ä–∞–Ω–∏–ª–∏—â–µ | `sqlx` (SQLite), `serde_json`, `uuid` |
| –ü–æ–∏—Å–∫ | `tantivy`, `nucleo`, `usearch` (HNSW vectors) |
| TUI | `ratatui`, `crossterm` |
| Async | `tokio`, `tokio-util` |
| HTTP | `reqwest`, `axum`, `scraper` |
| AI | —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π `ai-provider` trait –ø–æ–≤–µ—Ä—Ö `reqwest` |
| FFI | `libmagic-sys`, `poppler-sys` |
| –§–æ—Ä–º–∞—Ç—ã | `bibtex`, `quick-xml`, `csv` |

---

## 3. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö ‚Äî –∫–ª—é—á–µ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ: `AI_PLAN ¬ß2`, `SCIENCE ¬ß1`, `AI_SYSTEM ¬ß1`

```
BookCard (JSON –Ω–∞ –¥–∏—Å–∫–µ + –≤ SQLite)
‚îú‚îÄ‚îÄ metadata        title, authors, year, abstract, language, pages
‚îú‚îÄ‚îÄ identifiers     doi, arxiv_id, isbn, pmid, s2_id, openalex_id, ...  [SCIENCE ¬ß1.1]
‚îú‚îÄ‚îÄ publication     type, venue, journal, conference, publisher
‚îú‚îÄ‚îÄ file            path, format, hash, size
‚îú‚îÄ‚îÄ organization    libraries, folders, tags, rating, read_status
‚îú‚îÄ‚îÄ ai              summary, toc, key_topics, difficulty, tldr, embedding_stored
‚îú‚îÄ‚îÄ citation_graph  citation_count, references[], cited_by[]             [SCIENCE ¬ß2.5]
‚îú‚îÄ‚îÄ open_access     is_open, status, oa_url, pdf_urls
‚îî‚îÄ‚îÄ notes           [{id, text, author, created_at}]

Library Map (L1 AI-–ø–∞–º—è—Ç—å, ~4-8K —Ç–æ–∫–µ–Ω–æ–≤)               [AI_SYSTEM ¬ß1.1]
‚îú‚îÄ‚îÄ stats           total, by_status, by_format, by_type
‚îú‚îÄ‚îÄ libraries       {name: {n, tags, unread}}
‚îú‚îÄ‚îÄ tag_cloud       {tag: count}
‚îî‚îÄ‚îÄ books[]         BookSummary ‚Äî –∫–æ–º–ø–∞–∫—Ç–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥–æ–π –∫–Ω–∏–≥–∏

Action Protocol (AI ‚Üí TUI)                              [AI_SYSTEM ¬ß2]
‚îú‚îÄ‚îÄ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ  ShowMessage, ShowBookList, ShowComparison
‚îú‚îÄ‚îÄ –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ   NavigateTo, OpenSearch, OpenFile
‚îú‚îÄ‚îÄ –ú—É—Ç–∏—Ä—É—é—â–∏–µ      CreateCard, UpdateCard, BatchUpdate, DeleteCard, AddTag, MoveBooks
‚îú‚îÄ‚îÄ –í–Ω–µ—à–Ω–∏–µ         EnrichMetadata, FetchAndAdd, ExtractReferences
‚îî‚îÄ‚îÄ –°–æ—Å—Ç–∞–≤–Ω—ã–µ       Transaction, ConfirmThen, AskUser
```

---

## 4. –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ SLA ‚Äî –Ω–µ –ø–æ–¥–ª–µ–∂–∞—Ç –ø–µ—Ä–µ—Å–º–æ—Ç—Ä—É

–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ: `AI_PLAN ¬ß17`

| –û–ø–µ—Ä–∞—Ü–∏—è | –õ–∏–º–∏—Ç | –ö–æ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è |
|---|---|---|
| –•–æ–ª–æ–¥–Ω—ã–π —Å—Ç–∞—Ä—Ç TUI | < 100ms | CI –±–µ–Ω—á–º–∞—Ä–∫ –Ω–∞ –∫–∞–∂–¥—ã–π PR |
| Fuzzy –ø–æ–∏—Å–∫ (< 1000 –∫–Ω–∏–≥) | < 10ms | CI –±–µ–Ω—á–º–∞—Ä–∫ |
| Fuzzy –ø–æ–∏—Å–∫ (< 10 000 –∫–Ω–∏–≥) | < 30ms | CI –±–µ–Ω—á–º–∞—Ä–∫ |
| Full-text –ø–æ–∏—Å–∫ (tantivy) | < 50ms | CI –±–µ–Ω—á–º–∞—Ä–∫ |
| –û—Ç–∫—Ä—ã—Ç–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ | < 5ms | CI –±–µ–Ω—á–º–∞—Ä–∫ |
| –õ—é–±–∞—è CLI –∫–æ–º–∞–Ω–¥–∞ (`--json`) | < 150ms | CI –±–µ–Ω—á–º–∞—Ä–∫ |
| –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ TUI –∫–∞–¥—Ä–∞ | < 16ms | –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤—â–∏–∫ |
| –ù–∞–≤–∏–≥–∞—Ü–∏—è j/k | < 5ms | –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤—â–∏–∫ |

–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è: –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏, lazy init, L1/L2/L3 –∫—ç—à,
async –ø–æ–∏—Å–∫ –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ UI, mmap –¥–ª—è tantivy. –°–º. `AI_PLAN ¬ß17.2`.

---

## 5. –§–∞–∑—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ñ–∞–∑–∏—Ä–æ–≤–∞–Ω–∏—è

- –ö–∞–∂–¥–∞—è —Ñ–∞–∑–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è **—Ä–∞–±–æ—á–∏–º –ø—Ä–æ–¥—É–∫—Ç–æ–º**, –∞ –Ω–µ –Ω–∞–±–æ—Ä–æ–º —Ñ–∞–π–ª–æ–≤
- –§–∞–∑—ã 0-3 ‚Äî —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –±–µ–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∏—á–µ–≥–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç. –ù–µ –ø–µ—Ä–µ—Å–∫–∞–∫–∏–≤–∞—Ç—å.
- –ö–∞–∂–¥–∞—è —Ñ–∞–∑–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –Ω–∞–ø–∏—Å–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ –¥–ª—è —Å–≤–æ–µ–≥–æ —Å–ª–æ—è
- CI –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏: –±–µ–Ω—á–º–∞—Ä–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã
- –í –∫–æ–Ω—Ü–µ –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã ‚Äî —Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: –ø—Ä–æ–π—Ç–∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏–∑ ¬ß6

---

### ‚îÄ‚îÄ –§–ê–ó–ê 0: –û—Å–Ω–æ–≤–∞–Ω–∏–µ (2 –Ω–µ–¥–µ–ª–∏) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

**–¶–µ–ª—å:** –ü—É—Å—Ç–æ–µ, –Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –í—Å–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –∏ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω—ã. Cargo workspace —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è. CI –Ω–∞—Å—Ç—Ä–æ–µ–Ω.

**–í—ã—Ö–æ–¥–Ω–æ–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç:** `omniscope --version` —Ä–∞–±–æ—Ç–∞–µ—Ç. JSON-–∫–∞—Ä—Ç–æ—á–∫—É –º–æ–∂–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å –∏ –ø—Ä–æ—á–∏—Ç–∞—Ç—å.

#### 0.1 Cargo Workspace –∏ CI

```
‚ñ° –°–æ–∑–¥–∞—Ç—å Cargo workspace —Å–æ –≤—Å–µ–º–∏ –∫—Ä–µ–π—Ç–∞–º–∏ (core, tui, cli, ai, science, server, ffi)
‚ñ° –ù–∞—Å—Ç—Ä–æ–∏—Ç—å profile.release (lto="fat", codegen-units=1, strip="symbols", panic="abort")
‚ñ° –ù–∞—Å—Ç—Ä–æ–∏—Ç—å profile.dev (opt-level=1)
‚ñ° GitHub Actions / CI: —Å–±–æ—Ä–∫–∞, —Ç–µ—Å—Ç—ã, clippy, –±–µ–Ω—á–º–∞—Ä–∫–∏
‚ñ° pre-commit: fmt, clippy --deny warnings
‚ñ° –ü–æ–¥–∫–ª—é—á–∏—Ç—å cargo-criterion –¥–ª—è –±–µ–Ω—á–º–∞—Ä–∫–æ–≤
```

#### 0.2 –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö —è–¥—Ä–∞

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–µ–∑ –ª–æ–≥–∏–∫–∏ ‚Äî —Ç–æ–ª—å–∫–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –∏—Ö (–¥–µ)—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—é. –û–ø–∏—Ä–∞—Ç—å—Å—è –Ω–∞ `AI_PLAN ¬ß2`.

```
‚ñ° BookCard ‚Äî –ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å nested —Ç–∏–ø–∞–º–∏
‚ñ° ScientificIdentifiers (Doi, ArxivId, Isbn) ‚Äî —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ, —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π  [SCIENCE ¬ß1.1]
‚ñ° OmniscopeAction ‚Äî enum –≤—Å–µ—Ö AI-–¥–µ–π—Å—Ç–≤–∏–π                                    [AI_SYSTEM ¬ß2.1]
‚ñ° DocumentType ‚Äî –ø–æ–ª–Ω–∞—è —Ç–∞–∫—Å–æ–Ω–æ–º–∏—è                                           [SCIENCE ¬ß7.1]
‚ñ° ReadStatus, FileFormat, SortOrder, Panel ‚Äî –±–∞–∑–æ–≤—ã–µ enum
‚ñ° BookSummary ‚Äî –∫–æ–º–ø–∞–∫—Ç–Ω–∞—è –ø—Ä–æ–µ–∫—Ü–∏—è BookCard
‚ñ° LibraryMap ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ L1-–ø–∞–º—è—Ç–∏                                           [AI_SYSTEM ¬ß1.1]
‚ñ° ActionLogEntry ‚Äî –∑–∞–ø–∏—Å—å –∞—É–¥–∏—Ç–∞ AI-–¥–µ–π—Å—Ç–≤–∏–π
‚ñ° UserProfile ‚Äî –º–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è                                          [AI_SYSTEM ¬ß8.1]
‚ñ° –í—Å–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã: #[derive(Serialize, Deserialize, Debug, Clone, PartialEq)]
‚ñ° JSON Schema –¥–ª—è BookCard —á–µ—Ä–µ–∑ schemars (–¥–ª—è MCP –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)
‚ñ° –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã: roundtrip (de)serialize –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
```

#### 0.3 SQLite —Å—Ö–µ–º–∞

```
‚ñ° –¢–∞–±–ª–∏—Ü—ã: books, tags, libraries, folders, action_log, frecency         [AI_PLAN ¬ß2.3]
‚ñ° FTS5 –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ books_fts
‚ñ° –ò–Ω–¥–µ–∫—Å—ã: (status, library), (year), (rating), (doi), (arxiv_id)
‚ñ° –ú–∏–≥—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ sqlx migrate
‚ñ° –¢–µ—Å—Ç—ã: —Å–æ–∑–¥–∞—Ç—å, –ø—Ä–æ—á–∏—Ç–∞—Ç—å, –æ–±–Ω–æ–≤–∏—Ç—å, —É–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å
```

#### 0.4 –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞

```
‚ñ° XDG-–ø—É—Ç–∏: ~/.local/share/omniscope/, ~/.config/omniscope/
‚ñ° –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: cards/, covers/, embeddings/, undo/              [AI_PLAN ¬ß2.2]
‚ñ° –§—É–Ω–∫—Ü–∏–∏: read_card(id), write_card(card), list_card_ids()
‚ñ° –ê—Ç–æ–º–∞—Ä–Ω–∞—è –∑–∞–ø–∏—Å—å: write-to-temp + rename (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ corruption)
‚ñ° config.toml –ø–∞—Ä—Å–∏–Ω–≥ —á–µ—Ä–µ–∑ figment (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ env override)
‚ñ° –¢–µ—Å—Ç: config merging (file + env variables)
```

#### 0.5 –ë–∞–∑–æ–≤—ã–π CLI —Å–∫–µ–ª–µ—Ç

```
‚ñ° –ë–∏–Ω–∞—Ä–Ω–∏–∫ omniscope —Å subcommands —á–µ—Ä–µ–∑ clap
‚ñ° –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ–ª–∞–≥–∏: --json, --library-path, --config, --dry-run
‚ñ° omniscope --version, omniscope help
‚ñ° –°—Ç–∞–Ω–¥–∞—Ä—Ç –≤—ã–≤–æ–¥–∞: {status, data, meta{duration_ms}} –¥–ª—è --json     [AI_PLAN ¬ß18.3]
‚ñ° –°—Ç–∞–Ω–¥–∞—Ä—Ç –æ—à–∏–±–æ–∫: {status, error{code, message}} –≤ stderr
‚ñ° Exit codes: 0=ok, 1=error, 2=not_found, 3=conflict               [AI_PLAN ¬ß18.3]
‚ñ° –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è: OMNISCOPE_JSON=1, OMNISCOPE_LIBRARY_PATH    [AI_PLAN ¬ß18.6]
```

#### 0.6 –§—É–Ω–¥–∞–º–µ–Ω—Ç TUI

```
‚ñ° ratatui App loop: event ‚Üí update ‚Üí render
‚ñ° Panic handler: –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –ø—Ä–∏ crash
‚ñ° OMNISCOPE_TIMING=1: –≤—ã–≤–æ–¥ –≤—Ä–µ–º–µ–Ω–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
‚ñ° –ó–∞–≥–ª—É—à–∫–∞-—ç–∫—Ä–∞–Ω: "Omniscope v0.1.0 ‚Äî loading..."
‚ñ° –£–±–µ–¥–∏—Ç—å—Å—è: —Ö–æ–ª–æ–¥–Ω—ã–π —Å—Ç–∞—Ä—Ç –¥–æ –ø–µ—Ä–≤–æ–≥–æ render < 100ms —É–∂–µ —Å–µ–π—á–∞—Å
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ñ–∞–∑—ã:**
- `cargo build --release` ‚Äî –±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
- `cargo test` ‚Äî –≤—Å–µ —Ç–µ—Å—Ç—ã –∑–µ–ª—ë–Ω—ã–µ
- `omniscope --version` ‚Äî –≤—ã–≤–æ–¥–∏—Ç –≤–µ—Ä—Å–∏—é
- `echo '{"id":"test"}' > /tmp/test.json && cat /tmp/test.json | omniscope book import --stdin --dry-run` ‚Äî –Ω–µ –ø–∞–¥–∞–µ—Ç

---

### ‚îÄ‚îÄ –§–ê–ó–ê 1: –Ø–¥—Ä–æ TUI (4 –Ω–µ–¥–µ–ª–∏) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

**–¶–µ–ª—å:** –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π TUI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–Ω–∏–≥–∞–º–∏ –±–µ–∑ AI –∏ –±–µ–∑ –ø–æ–∏—Å–∫–∞. –ß–µ–ª–æ–≤–µ–∫ –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É, –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å, –æ—Ç–∫—Ä—ã—Ç—å –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. Vim-–º–æ—Ç–∏–≤—ã —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

**–í—ã—Ö–æ–¥–Ω–æ–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç:** –ú–æ–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Ä–µ–∞–ª—å–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π –∏–∑ 50+ –∫–Ω–∏–≥ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ.

#### 1.1 –¢—Ä—ë—Ö–ø–∞–Ω–µ–ª—å–Ω—ã–π TUI

```
‚ñ° Layout: –ª–µ–≤–∞—è (–±–∏–±–ª–∏–æ—Ç–µ–∫–∏/—Ç–µ–≥–∏) + —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è (—Å–ø–∏—Å–æ–∫ –∫–Ω–∏–≥) + –ø—Ä–∞–≤–∞—è (preview)
‚ñ° –†–∞–∑–º–µ—Ä—ã –ø–∞–Ω–µ–ª–µ–π –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã –≤ config.toml (panel_sizes = [20, 50, 30])
‚ñ° –°—Ç–∞—Ç—É—Å-–±–∞—Ä: –ø—É—Ç—å, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–Ω–∏–≥, —Ç–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º, –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä AI
‚ñ° –¶–≤–µ—Ç–æ–≤—ã–µ —Ç–µ–º—ã: catppuccin-mocha (–¥–µ—Ñ–æ–ª—Ç), gruvbox-dark, tokyo-night [AI_PLAN ¬ß12]
‚ñ° Nerd Fonts –∏–∫–æ–Ω–∫–∏: Û∞Ç∫ üìö üìñ ‚òÖ
‚ñ° –†–ï–ù–î–ï–†–ò–ù–ì: –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä < 16ms ‚Äî –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å cargo flamegraph
```

#### 1.2 –í–∏—Ä—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∫–Ω–∏–≥

–ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –ß–∏—Ç–∞—Ç—å `AI_PLAN ¬ß17.2` –ø–µ—Ä–µ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π.

```
‚ñ° VirtualizedBookList: –≤ –ø–∞–º—è—Ç–∏ —Ç–æ–ª—å–∫–æ viewport + –±—É—Ñ–µ—Ä ¬±50 –∫–Ω–∏–≥
‚ñ° BookSummary (–Ω–µ BookCard!) –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Å—Ç—Ä–æ–∫–∏ ‚Äî —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã–µ –ø–æ–ª—è
‚ñ° Prefetch: –ø—Ä–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–µ –∑–∞–≥—Ä—É–∂–∞—Ç—å –≤–ø–µ—Ä—ë–¥ (prefetch_trigger = buffer/2)
‚ñ° –ü–æ–ª–Ω–∞—è BookCard: –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¢–û–õ–¨–ö–û –¥–ª—è preview –∏–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚ñ° –¢–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏: 10 000 –∫–Ω–∏–≥ ‚Üí –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –±–µ–∑ –∑–∞–¥–µ—Ä–∂–∫–∏
```

#### 1.3 –†–µ–∂–∏–º—ã –∏ vim-–º–æ—Ç–∏–≤—ã

–ß–∏—Ç–∞—Ç—å `VIM_MOTIONS ¬ß1-6` –ø–µ—Ä–µ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π. –≠—Ç–æ —Å–∞–º–∞—è –±–æ–ª—å—à–∞—è –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞ —Ñ–∞–∑—ã.

```
‚ñ° State machine –¥–ª—è 7 —Ä–µ–∂–∏–º–æ–≤ (NORMAL/INSERT/VISUAL/VISUAL-LINE/VB/COMMAND/SEARCH)
‚ñ° –í–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ä–µ–∂–∏–º–∞ –≤ —Å—Ç–∞—Ç—É—Å-–±–∞—Ä–µ —Å —Ü–≤–µ—Ç–æ–º
‚ñ° NORMAL: j/k/h/l/gg/G/H/M/L/Ctrl+d/u/f/b/e/y          [VIM_MOTIONS ¬ß2.1]
‚ñ° NORMAL: {/}/[[/]]/[t/]t ‚Äî –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –≥—Ä—É–ø–ø–∞–º
‚ñ° NORMAL: -/Enter/Backspace ‚Äî –∏–µ—Ä–∞—Ä—Ö–∏—è; Ctrl+o/i ‚Äî jump list
‚ñ° NORMAL: z-–∫–æ–º–∞–Ω–¥—ã (zz/zt/zb/za/zo/zc/zR/zM)          [VIM_MOTIONS ¬ß2.5]
‚ñ° NORMAL: g-–∫–æ–º–∞–Ω–¥—ã (gh/gl/gb/gf/gF/gp/gr/gc/gI/gv/gz) [VIM_MOTIONS ¬ß2.4]
‚ñ° –û–ø–µ—Ä–∞—Ç–æ—Ä—ã: d/y/c/m/p/>/<  ‚Äî –æ–∂–∏–¥–∞—é—Ç motion –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è [VIM_MOTIONS ¬ß2.2]
‚ñ° PENDING mode: –≤–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä "Operator: [d] ‚Äî –æ–∂–∏–¥–∞–µ—Ç motion"
‚ñ° Text objects: il/al/it/at/ia ‚Äî inner/around library/tag/author [VIM_MOTIONS ¬ß2.3]
‚ñ° f/F/t/T/{char} ‚Äî –ø—Ä—ã–∂–∫–∏ –ø–æ –ø–µ—Ä–≤–æ–π –±—É–∫–≤–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞     [VIM_MOTIONS ¬ß11.2]
‚ñ° Counts: 5j, 3dd, 2yy ‚Äî —á–∏—Å–ª–æ–≤—ã–µ –ø—Ä–µ—Ñ–∏–∫—Å—ã –≤–µ–∑–¥–µ        [VIM_MOTIONS ¬ß2.8]
‚ñ° EasyMotion: Space+Space ‚Äî –ø—Ä—ã–∂–∫–∏ –ø–æ –≤–∏–¥–∏–º—ã–º –∫–Ω–∏–≥–∞–º    [VIM_MOTIONS ¬ß11.3]
‚ñ° VISUAL: v/V/Ctrl+v ‚Äî —Ç—Ä–∏ –≤–∏–¥–∞, –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –≤ visual mode [VIM_MOTIONS ¬ß4]
‚ñ° INSERT: —Ñ–æ—Ä–º–∞ –∫–∞—Ä—Ç–æ—á–∫–∏, Tab/Shift+Tab, Ctrl+w/u/k/h   [VIM_MOTIONS ¬ß3]
‚ñ° Marks: m{a-z}, '{a-z}, m{A-Z} (–≥–ª–æ–±–∞–ª—å–Ω—ã–µ), –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ [VIM_MOTIONS ¬ß2.6]
‚ñ° Registers: "{a-z}, "+, "_, "0, "1-"9, :reg             [VIM_MOTIONS ¬ß2.7]
‚ñ° COMMAND: :q :w :wq :qa :e ‚Äî –±–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã            [VIM_MOTIONS ¬ß8]
‚ñ° Keybindings –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º—ã —á–µ—Ä–µ–∑ keybindings.toml     [VIM_MOTIONS ¬ß12]
‚ñ° Leader key (Space –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) —Å <leader>-–∫–æ–º–∞–Ω–¥–∞–º–∏  [VIM_MOTIONS ¬ß12.2]
‚ñ° –¢–µ—Å—Ç: –ø—Ä–æ–π—Ç–∏ –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏–∑ VIM_MOTIONS ¬ß15 (workflows)
```

#### 1.4 CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ –∫–Ω–∏–≥–∞–º–∏

```
‚ñ° –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É –∏–∑ —Ñ–∞–π–ª–∞: –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ (libmagic FFI)
‚ñ° –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É –±–µ–∑ —Ñ–∞–π–ª–∞ (—Ç–æ–ª—å–∫–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ)
‚ñ° –ú–∞—Å—Ç–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è (wizard): –ø–æ—à–∞–≥–æ–≤–∞—è —Ñ–æ—Ä–º–∞
‚ñ° –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö: PDF (poppler FFI), EPUB (libepub FFI), DJVU
‚ñ° –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: —Ñ–æ—Ä–º–∞ INSERT mode –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª–µ–π –∫–∞—Ä—Ç–æ—á–∫–∏
‚ñ° –ë—ã—Å—Ç—Ä–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ: cT/ca/cy/ct/cs/cr/cn –±–µ–∑ –ø–æ–ª–Ω–æ–≥–æ –æ—Ç–∫—Ä—ã—Ç–∏—è —Ñ–æ—Ä–º—ã [VIM_MOTIONS ¬ß3.3]
‚ñ° –£–¥–∞–ª–µ–Ω–∏–µ: dd (–∫–∞—Ä—Ç–æ—á–∫–∞), dD (–∫–∞—Ä—Ç–æ—á–∫–∞+—Ñ–∞–π–ª), d_ (—Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª)
‚ñ° Undo/Redo: u/Ctrl+r ‚Äî –ø–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è, :undolist, :earlier/:later  [VIM_MOTIONS ¬ß5.5]
‚ñ° –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª: Enter/o –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, O ‚Äî –≤—ã–±—Ä–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚ñ° –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä—â–∏–∫–æ–≤: zathura, foliate, $EDITOR            [AI_PLAN ¬ß8]
```

#### 1.5 –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è: —Ç–µ–≥–∏, –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –ø–∞–ø–∫–∏

```
‚ñ° –°–æ–∑–¥–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏: gcl, :lib {name}
‚ñ° –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–∫–∏: gcf ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ rust/advanced/async   [AI_PLAN ¬ß5.1]
‚ñ° –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–≥–∞: gct, :tag {name}
‚ñ° –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å: –¥–µ—Ä–µ–≤–æ –±–∏–±–ª–∏–æ—Ç–µ–∫ + —Å–ø–∏—Å–æ–∫ —Ç–µ–≥–æ–≤, –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ h/l
‚ñ° –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ: r ‚Äî –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ (–∫–Ω–∏–≥–∞/–ø–∞–ø–∫–∞/–±–∏–±–ª–∏–æ—Ç–µ–∫–∞/—Ç–µ–≥)      [VIM_MOTIONS ¬ß5.2]
‚ñ° –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ: ml (–≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É), mf (–≤ –ø–∞–ø–∫—É) ‚Äî fuzzy picker       [VIM_MOTIONS ¬ß5.3]
‚ñ° Cut/Copy/Paste: dd ‚Üí navigate ‚Üí p, yy ‚Üí navigate ‚Üí p
‚ñ° –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–≥–∏—Å—Ç—Ä—ã: "add ‚Üí navigate ‚Üí "ap
‚ñ° –§–∏–ª—å—Ç—Ä –ø–æ —Ç–µ–≥—É: f (–≤—ã–±—Ä–∞—Ç—å –∏–∑ —Å–ø–∏—Å–∫–∞), F (–ø–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ)
‚ñ° –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: ss ‚Äî submenu, S ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫
‚ñ° –¢–µ—Å—Ç: –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å 20 –∫–Ω–∏–≥, —Å–æ–∑–¥–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—É—é –∏–µ—Ä–∞—Ä—Ö–∏—é –ø–∞–ø–æ–∫
```

#### 1.6 CLI –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

–ö–∞–∂–¥–∞—è TUI-–æ–ø–µ—Ä–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ CLI. –ß–∏—Ç–∞—Ç—å `AI_PLAN ¬ß18`.

```
‚ñ° omniscope book add/get/update/delete/list
‚ñ° omniscope book tag add/remove/set/list
‚ñ° omniscope book file get/attach/detach/open/copy
‚ñ° omniscope book note add/list/delete
‚ñ° omniscope tag list/create/delete/rename
‚ñ° omniscope library list/create/delete/rename
‚ñ° omniscope folder list/create/delete
‚ñ° omniscope config get/set/list
‚ñ° omniscope doctor (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö)
‚ñ° –¢–µ—Å—Ç: –∫–∞–∂–¥–∞—è –∫–æ–º–∞–Ω–¥–∞ —Å --json –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–∞–ª–∏–¥–Ω—ã–π JSON
‚ñ° –ë–µ–Ω—á–º–∞—Ä–∫ CI: omniscope book list --json < 150ms
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ñ–∞–∑—ã:**
- –°—Ü–µ–Ω–∞—Ä–∏–π: –¥–æ–±–∞–≤–∏—Ç—å 50 –∫–Ω–∏–≥, –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –≤ 5 –±–∏–±–ª–∏–æ—Ç–µ–∫, —Å–æ–∑–¥–∞—Ç—å —Ç–µ–≥–∏
- Vim grammar —Ä–∞–±–æ—Ç–∞–µ—Ç: `3dd`, `vitmL fiction`, `"ayil`, `mil`
- `omniscope book list --json` < 150ms –ø—Ä–∏ 500 –∫–Ω–∏–≥–∞—Ö
- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ 10 000 –∫–Ω–∏–≥ ‚Äî –±–µ–∑ —Ç–æ—Ä–º–æ–∑–æ–≤ –ø—Ä–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–µ

---

### ‚îÄ‚îÄ –§–ê–ó–ê 2: –ü–æ–∏—Å–∫ (2 –Ω–µ–¥–µ–ª–∏) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

**–¶–µ–ª—å:** Telescope-like –ø–æ–∏—Å–∫ —Å –ø–æ–ª–Ω—ã–º DSL. –ù–∞–π—Ç–∏ –ª—é–±—É—é –∫–Ω–∏–≥—É –∑–∞ < 50ms –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.

**–í—ã—Ö–æ–¥–Ω–æ–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç:** –ü–æ–∏—Å–∫ –±—ã—Å—Ç—Ä–µ–µ –∏ —É–¥–æ–±–Ω–µ–µ —á–µ–º –≤ Zotero –∏–ª–∏ Calibre.

#### 2.1 Telescope Overlay

```
‚ñ° / –∏ ? ‚Äî –æ—Ç–∫—Ä—ã—Ç—å/–∑–∞–∫—Ä—ã—Ç—å telescope                                [AI_PLAN ¬ß3.3]
‚ñ° –¢—Ä–∏ –∫–æ–ª–æ–Ω–∫–∏: —Å—Ç—Ä–æ–∫–∞ –≤–≤–æ–¥–∞ + —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã + preview –∫–Ω–∏–≥–∏
‚ñ° –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫: debounce 50ms, –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç TUI           [AI_PLAN ¬ß17.2]
‚ñ° –ù–∞–≤–∏–≥–∞—Ü–∏—è –≤ telescope: Ctrl+n/p, Ctrl+j/k
‚ñ° –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä: Tab ‚Äî –ø–æ–º–µ—Ç–∏—Ç—å, Ctrl+q ‚Äî –≤ quickfix list
‚ñ° –î–µ–π—Å—Ç–≤–∏—è: Enter (–æ—Ç–∫—Ä—ã—Ç—å), Ctrl+s (—Å—Ç–∞—Ç—É—Å), Ctrl+d (—É–¥–∞–ª–∏—Ç—å)
‚ñ° –†–µ–∂–∏–º—ã: Ctrl+f ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å fuzzy/fts/semantic
‚ñ° Quickfix list: :copen/:cclose/:cnext/:cprev/:cfirst/:clast        [VIM_MOTIONS ¬ß6.3]
‚ñ° –ë–µ–Ω—á–º–∞—Ä–∫: –ø–µ—Ä–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç < 10ms –ø—Ä–∏ 1000 –∫–Ω–∏–≥
```

#### 2.2 –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –ø–æ–∏—Å–∫

```
‚ñ° Query Parser ‚Äî —Ä–∞–∑–±–æ—Ä DSL –≤ —Ç–æ–∫–µ–Ω—ã                               [AI_PLAN ¬ß6.3]
‚ñ° SQLite FTS5 ‚Äî –¥–ª—è —Ç–æ—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤
‚ñ° Nucleo fuzzy ‚Äî –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
‚ñ° Merge & Rank: Reciprocal Rank Fusion —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚ñ° OMNISCOPE_PERF=1: —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –∫–∞–∂–¥–æ–≥–æ –¥–≤–∏–∂–∫–∞
```

#### 2.3 DSL –ø–æ–∏—Å–∫–∞

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∏–∑ `AI_PLAN ¬ß6.3`:

```
‚ñ° –ë–∞–∑–æ–≤—ã–π: "rust async" ‚Üí fuzzy –ø–æ –≤—Å–µ–º –ø–æ–ª—è–º
‚ñ° @author:klabnik ‚Üí —Ñ–∏–ª—å—Ç—Ä –ø–æ –∞–≤—Ç–æ—Ä—É
‚ñ° #tag:systems ‚Üí —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ç–µ–≥—É
‚ñ° y:2020-2023, y:>2020 ‚Üí –¥–∏–∞–ø–∞–∑–æ–Ω/—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ –≥–æ–¥—É
‚ñ° f:pdf,epub ‚Üí —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ñ–æ—Ä–º–∞—Ç—É
‚ñ° lib:programming ‚Üí —Ñ–∏–ª—å—Ç—Ä –ø–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ
‚ñ° r:>=4 ‚Üí —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É
‚ñ° s:unread, s:reading, s:read ‚Üí —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É
‚ñ° has:file, has:summary, has:doi, has:tags ‚Üí —Ñ–∏–ª—å—Ç—Ä –Ω–∞–ª–∏—á–∏—è
‚ñ° NOT, AND, OR, —Å–∫–æ–±–∫–∏ ‚Äî –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã
‚ñ° @author:X #tag:Y y:2020-2023 r:>=4 ‚Äî –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏
‚ñ° --dsl —Ñ–ª–∞–≥ –≤ CLI: omniscope search --dsl "@author:klabnik #rust"
‚ñ° –¢–µ—Å—Ç: –≤—Å–µ –ø—Ä–∏–º–µ—Ä—ã –∏–∑ AI_PLAN ¬ß6.3 –¥–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
```

#### 2.4 Frecency (zoxide-like)

```
‚ñ° –¢—Ä–µ–∫–∏–Ω–≥ access_count –∏ last_accessed –¥–ª—è –∫–∞–∂–¥–æ–π –∫–Ω–∏–≥–∏            [AI_PLAN ¬ß6.2]
‚ñ° –ê–ª–≥–æ—Ä–∏—Ç–º: frecency = fuzzy_score √ó sqrt(access_count √ó recency_weight)
‚ñ° –í–µ—Å–∞: <4 –¥–Ω–µ–π=6, <14=4, <31=2, —Å—Ç–∞—Ä—à–µ=1
‚ñ° –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏: –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–∞–π–ª–∞, –ø—Ä–æ—Å–º–æ—Ç—Ä–µ –∫–∞—Ä—Ç–æ—á–∫–∏, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
‚ñ° frecency.db ‚Äî –æ—Ç–¥–µ–ª—å–Ω–∞—è SQLite –±–∞–∑–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∑–∞–ø–∏—Å–∏
‚ñ° –¢–µ—Å—Ç: –Ω–µ–¥–∞–≤–Ω–æ –æ—Ç–∫—Ä—ã—Ç–∞—è –∫–Ω–∏–≥–∞ –≤—ã—à–µ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ–π
```

#### 2.5 –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –∏ –¥–∏–∞–ø–∞–∑–æ–Ω—ã

```
‚ñ° :g/{pattern}/{command} ‚Äî –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –∫ –∫–Ω–∏–≥–∞–º –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω—É  [VIM_MOTIONS ¬ß6.4]
‚ñ° :v/{pattern}/{command} ‚Äî –∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥–ª–æ–±–∞–ª—å–Ω—ã–π
‚ñ° :s/old/new/ –∏ :%s/old/new/g ‚Äî –∑–∞–º–µ–Ω–∞ –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö
‚ñ° –î–∏–∞–ø–∞–∑–æ–Ω—ã: {N},{M} / . / $ / % / '{a} / /<pattern>/           [VIM_MOTIONS ¬ß8.4]
‚ñ° –ú–∞–∫—Ä–æ—Å—ã: q{a} –∑–∞–ø–∏—Å—å, @{a} –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ, :macros —Å–ø–∏—Å–æ–∫     [VIM_MOTIONS ¬ß9]
‚ñ° –¢–µ—Å—Ç: :g/#rust/cs read –º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å —É –≤—Å–µ—Ö rust-–∫–Ω–∏–≥
```

#### 2.6 CLI –ø–æ–∏—Å–∫

```
‚ñ° omniscope search "query" --json
‚ñ° omniscope search --dsl "@author:... #tag:... y:2023" --json
‚ñ° omniscope search --mode fuzzy/fts/semantic --json
‚ñ° omniscope search --count (—Ç–æ–ª—å–∫–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ)
‚ñ° omniscope search --fields "id,title,tags" (–ø—Ä–æ–µ–∫—Ü–∏—è)
‚ñ° –ë–µ–Ω—á–º–∞—Ä–∫ CI: omniscope search "rust" --json < 150ms –ø—Ä–∏ 1000 –∫–Ω–∏–≥
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ñ–∞–∑—ã:**
- Telescope –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ, –ø–µ—Ä–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã < 10ms
- DSL: `@author:klabnik #rust y:2020-2023 r:>=4 f:pdf` —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- :g/#python/cs unread ‚Äî –º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å —É –≤—Å–µ—Ö python-–∫–Ω–∏–≥ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
- Frecency: –≤—á–µ—Ä–∞—à–Ω—è—è –∫–Ω–∏–≥–∞ –≤—Å–ø–ª—ã–≤–∞–µ—Ç –≤—ã—à–µ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ

---

### ‚îÄ‚îÄ –§–ê–ó–ê 3: –ù–∞—É—á–Ω—ã–π –º–æ–¥—É–ª—å (3 –Ω–µ–¥–µ–ª–∏) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

**–¶–µ–ª—å:** Omniscope —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π Zotero –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–π. –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞—Ç—å—é –ø–æ arXiv ID, –∏–∑–≤–ª–µ—á—å –≤—Å–µ —Å—Å—ã–ª–∫–∏, —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å BibTeX.

**–í—ã—Ö–æ–¥–Ω–æ–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç:** –ù–∞—É—á–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∏–∑ 200 —Å—Ç–∞—Ç–µ–π –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–ø—Ä–∞–≤–ª—è–µ–º–∞.

#### 3.1 –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –∏ —Ç–∏–ø–∏–∑–∞—Ü–∏—è

–ß–∏—Ç–∞—Ç—å `SCIENCE ¬ß1` –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º.

```
‚ñ° ScientificIdentifiers ‚Äî –≤—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å 25+ –ø–æ–ª—è–º–∏
‚ñ° Doi::parse() ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è, –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è, URL                      [SCIENCE ¬ß1.1]
‚ñ° ArxivId::parse() ‚Äî –≤—Å–µ —Ñ–æ—Ä–º–∞—Ç—ã (–Ω–æ–≤—ã–π, —Å—Ç–∞—Ä—ã–π, URL, —Å –≤–µ—Ä—Å–∏–µ–π)
‚ñ° Isbn::parse() ‚Äî ISBN-10 –∏ ISBN-13, –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Å—É–º–º—ã
‚ñ° extract_doi_from_text(), extract_arxiv_id_from_text() ‚Äî regex    [SCIENCE ¬ß2.3]
‚ñ° –î–æ–±–∞–≤–∏—Ç—å identifiers –≤ BookCard ‚Äî —Å—Ö–µ–º–∞, SQLite –∏–Ω–¥–µ–∫—Å—ã
‚ñ° –¢–µ—Å—Ç: –ø–∞—Ä—Å–∏–Ω–≥ –≤—Å–µ—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ arXiv ID –∏–∑ –ø—Ä–∏–º–µ—Ä–æ–≤ SCIENCE ¬ß2.1
```

#### 3.2 ArXiv –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

```
‚ñ° ArxivId::parse() –¥–ª—è –≤—Å–µ—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –≤–≤–æ–¥–∞                        [SCIENCE ¬ß2.1]
‚ñ° arxiv_api::fetch_metadata() ‚Äî Atom XML –ø–∞—Ä—Å–∏–Ω–≥                   [SCIENCE ¬ß2.2]
‚ñ° ArxivSearchQuery —Å –ø–æ–ª–Ω—ã–º DSL (ti:, au:, abs:, cat:, date:)
‚ñ° omniscope arxiv add {id} ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –ø–æ ID                        [SCIENCE ¬ß9 CLI]
‚ñ° omniscope arxiv add {id} --download-pdf
‚ñ° omniscope arxiv search "attention transformer" --json
‚ñ° omniscope arxiv update {id} ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é
‚ñ° omniscope arxiv update --all ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ arXiv –∑–∞–ø–∏—Å–∏
‚ñ° Rate limiting: —Å–æ–±–ª—é–¥–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è arXiv API (3 req/sec)
‚ñ° TUI: –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ arXiv ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å preview –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
‚ñ° –¢–µ—Å—Ç: –¥–æ–±–∞–≤–∏—Ç—å 1706.03762 (Attention Is All You Need) ‚Äî –≤—Å–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
```

#### 3.3 –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

```
‚ñ° CrossRef API: fetch_by_doi(), query_by_text(), fetch_batch()     [SCIENCE ¬ß4.1]
‚ñ° Polite pool: User-Agent header —Å email –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
‚ñ° OpenLibrary API: fetch_by_isbn()
‚ñ° Semantic Scholar: fetch_paper(), get_recommendations()           [SCIENCE ¬ß4.2]
‚ñ° OpenAlex: fetch_work(), search()                                 [SCIENCE ¬ß4.3]
‚ñ° Unpaywall: check_oa() ‚Äî Open Access —Å—Ç–∞—Ç—É—Å –ø–æ DOI               [SCIENCE ¬ß4.4]
‚ñ° –ü–∞–π–ø–ª–∞–π–Ω –æ–±–æ–≥–∞—â–µ–Ω–∏—è: source_priority() ‚Üí merge —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏   [SCIENCE ¬ß6.1-6.2]
‚ñ° –î–∏—Å–∫–æ–≤—ã–π –∫—ç—à –¥–ª—è –≤—Å–µ—Ö API-–æ—Ç–≤–µ—Ç–æ–≤ (TTL 24h-7d)
‚ñ° omniscope doi add {doi}, omniscope doi resolve {doi} --json
‚ñ° omniscope enrich {id} --sources "crossref,s2,unpaywall" --json
‚ñ° omniscope ids set {id} --doi {doi} --arxiv {id} --json
‚ñ° omniscope oa check {id}, omniscope oa download {id}
‚ñ° –¢–µ—Å—Ç: enrich –∫–Ω–∏–≥–∏ —Å DOI ‚Üí –∑–∞–ø–æ–ª–Ω–µ–Ω—ã citation_count, s2_id, oa_status
```

#### 3.4 –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫

```
‚ñ° pdftotext —á–µ—Ä–µ–∑ poppler FFI ‚Äî –∏–∑–≤–ª–µ—á—å —Ç–µ–∫—Å—Ç –∏–∑ PDF
‚ñ° find_references_section() ‚Äî –Ω–∞–π—Ç–∏ —Å–µ–∫—Ü–∏—é References –≤ —Ç–µ–∫—Å—Ç–µ    [SCIENCE ¬ß2.3]
‚ñ° parse_reference_lines() ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä–æ–∫ —Å—Å—ã–ª–æ–∫
‚ñ° extract_doi/arxiv_id/isbn_from_text() ‚Äî –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –∏–∑ —Ç–µ–∫—Å—Ç–∞
‚ñ° resolve_via_crossref() ‚Äî CrossRef Text Query –¥–ª—è –Ω–µ–∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö
‚ñ° Fetch –∏–∑ Semantic Scholar API (references field)
‚ñ° TUI: –ø–∞–Ω–µ–ª—å —Å—Å—ã–ª–æ–∫ —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏ (‚úì –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ / ‚úó –Ω–µ –Ω–∞–π–¥–µ–Ω–æ) [SCIENCE ¬ß2.4]
‚ñ° –ì—Ä–∞—Ñ —Ü–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏–π: CitationGraph, ASCII –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤ TUI        [SCIENCE ¬ß2.5]
‚ñ° omniscope refs extract {id}, omniscope refs list {id} --json
‚ñ° omniscope refs add-all {id} --download-pdfs
‚ñ° omniscope refs graph {id}, omniscope refs cited-by {id}
‚ñ° gr (go references), gR (go cited-by) –≤ NORMAL mode              [SCIENCE ¬ß11]
‚ñ° –¢–µ—Å—Ç: –∏–∑–≤–ª–µ—á—å —Å—Å—ã–ª–∫–∏ –∏–∑ "Attention Is All You Need" ‚Üí > 30 —Å—Å—ã–ª–æ–∫
```

#### 3.5 Anna's Archive –∏ Sci-Hub

–ß–∏—Ç–∞—Ç—å `SCIENCE ¬ß3.1-3.3` –ø–µ—Ä–µ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π.

```
‚ñ° AnnasArchiveSource: HTTP –∫–ª–∏–µ–Ω—Ç —Å rate limiting (1 req/2s)       [SCIENCE ¬ß3.2]
‚ñ° –†–æ—Ç–∞—Ü–∏—è –∑–µ—Ä–∫–∞–ª –ø—Ä–∏ –æ—à–∏–±–∫–µ, –∞–≤—Ç–æ–≤—ã–±–æ—Ä —Ä–∞–±–æ—á–µ–≥–æ
‚ñ° parse_search_html() ‚Äî —Å–∫—Ä–µ–π–ø–∏–Ω–≥ HTML —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚ñ° get_download_links(md5) ‚Äî –ø–æ–ª—É—á–∏—Ç—å –ø—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏
‚ñ° –î–∏—Å–∫–æ–≤—ã–π –∫—ç—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞ (TTL 24h)
‚ñ° SciHubSource: find_working_mirror(), fetch_by_doi/pmid/url       [SCIENCE ¬ß3.3]
‚ñ° SciHubIdentifier ‚Äî –≤—Å–µ —Ñ–æ—Ä–º–∞—Ç—ã –≤–≤–æ–¥–∞
‚ñ° TUI: –ø–∞–Ω–µ–ª—å "Find & Download" —Å –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏                      [SCIENCE ¬ß3.4]
‚ñ° –ö–æ–Ω—Ñ–∏–≥ preferred_pdf_sources ‚Äî –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤            [SCIENCE ¬ß10]
‚ñ° omniscope fetch doi:{doi} (–ø—ã—Ç–∞–µ—Ç—Å—è –Ω–∞–π—Ç–∏ —á–µ—Ä–µ–∑ –≤—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏)
‚ñ° omniscope online search "title" --source all --json
‚ñ° –¢–µ—Å—Ç: –Ω–∞–π—Ç–∏ PDF –ø–æ –∏–∑–≤–µ—Å—Ç–Ω–æ–º—É DOI —á–µ—Ä–µ–∑ Anna's Archive
```

#### 3.6 –ë–∏–±–ª–∏–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã

```
‚ñ° BibTeX: parser + generator, –≤—Å–µ —Ç–∏–ø—ã –∑–∞–ø–∏—Å–µ–π, generate_cite_key() [SCIENCE ¬ß5.1]
‚ñ° CSL JSON: parser + formatter, –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ APA/IEEE/–ì–û–°–¢     [SCIENCE ¬ß5.2]
‚ñ° RIS —Ñ–æ—Ä–º–∞—Ç: import/export                                        [SCIENCE ¬ß5.3]
‚ñ° Zotero JSON/RDF: import (–ø–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Zotero)
‚ñ° Calibre metadata.db: import —á–µ—Ä–µ–∑ SQLite
‚ñ° omniscope export bibtex /path.bib --library ml-papers
‚ñ° omniscope export bibtex - --tag rust (stdout)
‚ñ° omniscope cite {id} --style ieee --clipboard
‚ñ° yB (yank bibtex), yC (yank citation) –≤ NORMAL mode              [SCIENCE ¬ß11]
‚ñ° :bibtex, :cite ieee –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ
‚ñ° omniscope import zotero /path.json, omniscope import calibre /path/
‚ñ° –¢–µ—Å—Ç: —ç–∫—Å–ø–æ—Ä—Ç 50 —Å—Ç–∞—Ç–µ–π –≤ BibTeX ‚Üí –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ Zotero
```

#### 3.7 –ù–∞—É—á–Ω–∞—è TUI

```
‚ñ° –í–∏–¥ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∞—Ç—å–∏: DOI, arXiv, S2, OpenAlex, –º–µ—Ç—Ä–∏–∫–∏ —Ü–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏–π [SCIENCE ¬ß8.1]
‚ñ° –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏: by_type, by_format, by_year, citation metrics [SCIENCE ¬ß8.2]
‚ñ° –ü–æ–∫—Ä—ã—Ç–∏–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤: progress bars –¥–ª—è DOI/arXiv/ISBN/S2
‚ñ° omniscope stats science --json, omniscope stats citations --top 10
‚ñ° –¢–µ—Å—Ç: –æ—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É —Å—Ç–∞—Ç—å–∏ ‚Äî –≤—Å–µ –ø–æ–ª—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ñ–∞–∑—ã:**
- –î–æ–±–∞–≤–∏—Ç—å arXiv:1706.03762 ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –≤—Å–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- –ò–∑–≤–ª–µ—á—å —Å—Å—ã–ª–∫–∏ ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å –∫–∞–∫–∏–µ —É–∂–µ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ, –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ
- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å 20 —Å—Ç–∞—Ç–µ–π –≤ IEEE BibTeX ‚Üí –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–∞–π–ª
- –ù–∞–π—Ç–∏ PDF –ø–æ DOI —á–µ—Ä–µ–∑ Anna's Archive / Unpaywall

---

### ‚îÄ‚îÄ –§–ê–ó–ê 4: Omniscope AI (4 –Ω–µ–¥–µ–ª–∏) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

**–¶–µ–ª—å:** AI-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ä—å, –∑–Ω–∞—é—â–∏–π –≤—Å—é –∫–æ–ª–ª–µ–∫—Ü–∏—é, —É–º–µ—é—â–∏–π –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å, –ø–æ–Ω–∏–º–∞—é—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç. –ù–µ —á–∞—Ç-–±–æ—Ç, –∞ –∞–∫—Ç–∏–≤–Ω—ã–π —É—á–∞—Å—Ç–Ω–∏–∫ —Å–∏—Å—Ç–µ–º—ã.

**–í—ã—Ö–æ–¥–Ω–æ–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç:** AI –º–æ–∂–µ—Ç –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É —Å –Ω—É–ª—è, –∑–∞–¥–∞–≤–∞—Ç—å –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã, —Å–æ–∑–¥–∞–≤–∞—Ç—å reading plans, —Ä–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ CLI –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∞–≥–µ–Ω—Ç–æ–≤.

#### 4.1 –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è

–ß–∏—Ç–∞—Ç—å `AI_SYSTEM ¬ß7` –ø–æ–ª–Ω–æ—Å—Ç—å—é.

```
‚ñ° AiProvider trait ‚Äî –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å                             [AI_SYSTEM ¬ß7.1]
‚ñ° AnthropicProvider: Claude API (streaming + non-streaming)
‚ñ° OpenAiProvider: OpenAI + Azure + –ª—é–±–æ–π OpenAI-compatible
‚ñ° GoogleProvider: Gemini API
‚ñ° OllamaProvider: –ª–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ + embedding model
‚ñ° Fallback chain: primary ‚Üí fallback_1 ‚Üí fallback_2              [AI_SYSTEM ¬ß7.3]
‚ñ° RoutingStrategy: cost_aware (–¥–µ—à—ë–≤—ã–µ –∑–∞–¥–∞—á–∏ ‚Üí Ollama)          [AI_SYSTEM ¬ß5.4]
‚ñ° count_tokens() ‚Äî –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º
‚ñ° health_check() ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
‚ñ° –¢–µ—Å—Ç: AnthropicProvider.complete() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫—É
```

#### 4.2 Library Map –∏ –ø–∞–º—è—Ç—å

```
‚ñ° LibraryMap::generate() ‚Äî –∏–∑ SQLite –∑–∞ < 500ms –¥–ª—è 10K –∫–Ω–∏–≥      [AI_SYSTEM ¬ß1.1]
‚ñ° Compression –ø—Ä–∏ > 5000 –∫–Ω–∏–≥ (—Ç–æ–ª—å–∫–æ unread + recent 500)
‚ñ° RwLock<LibraryMapCache> —Å TTL-–∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–µ–π (default 1h)
‚ñ° Dirty-—Ñ–ª–∞–≥: –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ ‚Üí map.dirty=true
‚ñ° –§–æ–Ω–æ–≤–∞—è —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è: –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç TUI
‚ñ° ContextSelector: –≤—ã–±—Ä–∞—Ç—å L1/L2/L3 –≤ —Ä–∞–º–∫–∞—Ö token_budget         [AI_SYSTEM ¬ß5.1]
‚ñ° omniscope context --json, omniscope context --compact
‚ñ° –¢–µ—Å—Ç: Library Map –¥–ª—è 500 –∫–Ω–∏–≥ < 8K —Ç–æ–∫–µ–Ω–æ–≤
```

#### 4.3 Action Protocol ‚Äî –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å

–ß–∏—Ç–∞—Ç—å `AI_SYSTEM ¬ß2` –ø–æ–ª–Ω–æ—Å—Ç—å—é.

```
‚ñ° OmniscopeAction enum ‚Äî –≤—Å–µ 25+ —Ç–∏–ø–æ–≤ –¥–µ–π—Å—Ç–≤–∏–π                   [AI_SYSTEM ¬ß2.1]
‚ñ° ActionExecutor: –≤—ã–ø–æ–ª–Ω–∏—Ç—å action ‚Üí Result<ActionResult>
‚ñ° Transaction: –∞—Ç–æ–º–∞—Ä–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≥—Ä—É–ø–ø—ã –¥–µ–π—Å—Ç–≤–∏–π
‚ñ° ConfirmThen: –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, –∂–¥–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
‚ñ° ActionLogEntry ‚Äî –∑–∞–ø–∏—Å—å —Å snapshot_before                        [AI_SYSTEM ¬ß2.3]
‚ñ° action_log.jsonl ‚Äî –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π –ª–æ–≥ –≤ XDG data dir
‚ñ° :ai undo / :ai undo {id} ‚Äî –æ—Ç–∫–∞—Ç —á–µ—Ä–µ–∑ snapshot_before
‚ñ° Watchdog: –ª–∏–º–∏—Ç—ã –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∞–≥–µ–Ω—Ç–æ–≤                           [AI_SYSTEM ¬ß9.4]
‚ñ° omniscope exec '{...json action...}' --json
‚ñ° omniscope exec-batch < actions.json --json
‚ñ° omniscope log --last 20 --json, omniscope log --undo last
‚ñ° –¢–µ—Å—Ç: UpdateCard ‚Üí –ª–æ–≥ –∑–∞–ø–∏—Å—å ‚Üí undo ‚Üí –∫–∞—Ä—Ç–æ—á–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
```

#### 4.4 –ó–∞–¥–∞—á–∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏

```
‚ñ° GenerateSummary: –ø—Ä–æ–º–ø—Ç + JSON-–æ—Ç–≤–µ—Ç (summary, key_ideas, difficulty, toc) [AI_SYSTEM ¬ß4.1]
‚ñ° ExtractToc, ExtractKeyTopics, AssessDifficulty, EstimateReadingTime
‚ñ° SuggestTags: existing_taxonomy –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –¥–ª—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏
‚ñ° NormalizeMetadata: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏–∏, —Ñ–æ—Ä–º–∞—Ç–∞, –ø–æ–ª–Ω–æ—Ç—ã
‚ñ° FullIndex pipeline: —Ñ–∞–π–ª ‚Üí –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ ‚Üí summary ‚Üí —Ç–µ–≥–∏ ‚Üí embeddings [AI_PLAN ¬ß5.5]
‚ñ° –§–æ–Ω–æ–≤–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è: –æ—Ç–¥–µ–ª—å–Ω—ã–π tokio task, –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç UI
‚ñ° –ü—Ä–æ–≥—Ä–µ—Å—Å: –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤ —Å—Ç–∞—Ç—É—Å-–±–∞—Ä–µ "Indexing: 23/47..."
‚ñ° omniscope index {id} --json, omniscope index --all --parallel 4
‚ñ° @i/@I/@s/@t/@T –≤ NORMAL mode                                    [AI_SYSTEM ¬ß11]
‚ñ° –¢–µ—Å—Ç: FullIndex –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–π PDF –∫–Ω–∏–≥–∏ ‚Üí –≤—Å–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
```

#### 4.5 –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

```
‚ñ° FindDuplicates: exact_isbn/doi + fuzzy_title (>0.9) + semantic (>0.95) [AI_SYSTEM ¬ß4.2]
‚ñ° AuditLibrary: 8 –ø—Ä–æ–≤–µ—Ä–æ–∫ (—Ç–µ–≥–∏, –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, summary, –¥—É–±–ª–∏, —Ñ–∞–π–ª—ã...) [AI_SYSTEM ¬ß4.2]
‚ñ° TUI –∞—É–¥–∏—Ç–∞: —Å–ø–∏—Å–æ–∫ issues —Å –∫–Ω–æ–ø–∫–∞–º–∏ Fix/View/Review              [AI_SYSTEM ¬ß4.2]
‚ñ° NormalizeTags: –Ω–∞–π—Ç–∏ –ø–æ—Ö–æ–∂–∏–µ —Ç–µ–≥–∏, –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ
‚ñ° SuggestRestructure: –∞–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã ‚Üí –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
‚ñ° CreateReadingPlan: –ø–æ—Ä—è–¥–æ–∫ —á—Ç–µ–Ω–∏—è —Å —É—á—ë—Ç–æ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π          [AI_SYSTEM ¬ß3.1]
‚ñ° AutoOrganize: suggest_only (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) vs --apply
‚ñ° omniscope audit --json, omniscope audit --fix
‚ñ° @d (–¥—É–±–ª–∏–∫–∞—Ç—ã), @a (–∞—É–¥–∏—Ç), @p (reading plan) –≤ NORMAL mode
‚ñ° –¢–µ—Å—Ç: –∞—É–¥–∏—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–∑ 100 –∫–Ω–∏–≥ ‚Üí –Ω–∞—à—ë–ª > 0 issues
```

#### 4.6 –ü–æ–∏—Å–∫ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

```
‚ñ° SemanticSearch: —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ + HNSW –ø–æ–∏—Å–∫ + –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π rerank   [AI_SYSTEM ¬ß4.3]
‚ñ° Recommend: CurrentBook/RecentlyRead/Tags/UnreadQueue/LearningGoal [AI_SYSTEM ¬ß4.3]
‚ñ° LearningPath: goal + current_level + time_budget ‚Üí —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–π –ø–ª–∞–Ω
‚ñ° FindKnowledgeGaps: —Ç–µ–º–∞ ‚Üí —á–µ–≥–æ –Ω–µ—Ç –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ                 [AI_SYSTEM ¬ß3.1]
‚ñ° ContextualSearch: "–ø–∏—à—É –¥–∏—Å—Å–µ—Ä—Ç–∞—Ü–∏—é –ø–æ RL" ‚Üí —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –∫–Ω–∏–≥–∏
‚ñ° omniscope recommend "—á—Ç–æ —á–∏—Ç–∞—Ç—å –ø–æ—Å–ª–µ BERT" --json
‚ñ° @q (NL –ø–æ–∏—Å–∫), @? (–≤–æ–ø—Ä–æ—Å –æ –∫–Ω–∏–≥–µ) –≤ NORMAL mode
‚ñ° –¢–µ—Å—Ç: "—á—Ç–æ —á–∏—Ç–∞—Ç—å —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å GPT-4" ‚Üí —Å–ø–∏—Å–æ–∫ —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏
```

#### 4.7 TUI –ø–∞–Ω–µ–ª—å Omniscope

```
‚ñ° @ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–∞–Ω–µ–ª—å: –∏—Å—Ç–æ—Ä–∏—è —Ä–∞–∑–≥–æ–≤–æ—Ä–∞ + –≤–≤–æ–¥                     [AI_SYSTEM ¬ß3.1]
‚ñ° Streaming –æ—Ç–≤–µ—Ç–∞: —Å–∏–º–≤–æ–ª—ã –ø–æ—è–≤–ª—è—é—Ç—Å—è –ø–æ –º–µ—Ä–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
‚ñ° –ö–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–Ω–∏–≥ –≤ —Ç–µ–∫—Å—Ç–µ –æ—Ç–≤–µ—Ç–∞
‚ñ° –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è-–∫–Ω–æ–ø–∫–∏ (inline): [–°–æ–∑–¥–∞—Ç—å —Ç–µ–≥–∏?] [–û—Ç–∫—Ä—ã—Ç—å]
‚ñ° Ctrl+p/n ‚Äî –∏—Å—Ç–æ—Ä–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤, Ctrl+l ‚Äî –Ω–æ–≤–∞—è —Å–µ—Å—Å–∏—è
‚ñ° –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ç–æ–∫–µ–Ω–æ–≤ –≤ —Å—Ç–∞—Ç—É—Å-–±–∞—Ä–µ: "‚óè‚óè‚óã‚óã‚óã" (20% –¥–Ω–µ–≤–Ω–æ–≥–æ –±—é–¥–∂–µ—Ç–∞)
‚ñ° –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏: –Ω–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏ arXiv, –¥—É–±–ª–∏ [AI_SYSTEM ¬ß8.3]
‚ñ° –¢–µ—Å—Ç: "—Å–æ—Å—Ç–∞–≤—å –ø–ª–∞–Ω —á—Ç–µ–Ω–∏—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä–æ–≤" ‚Üí —Å–ø–∏—Å–æ–∫ —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏
```

#### 4.8 –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –∏ RAG

```
‚ñ° EmbeddingModel trait: local (nomic-embed-text via Ollama) + remote [AI_SYSTEM ¬ß6.1]
‚ñ° –ß–∞–Ω–∫–∏–Ω–≥ —Ñ–∞–π–ª–æ–≤: 512 —Ç–æ–∫–µ–Ω–æ–≤, 50 –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ, –ø–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º
‚ñ° usearch HNSW –∏–Ω–¥–µ–∫—Å ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –ø–æ–∏—Å–∫ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
‚ñ° –ß–∞–Ω–∫–∏: –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ + summary + topics + TOC + –∑–∞–º–µ—Ç–∫–∏ + —Ñ–∞–π–ª      [AI_SYSTEM ¬ß6.1]
‚ñ° RAG pipeline: query ‚Üí embed ‚Üí HNSW search ‚Üí rerank ‚Üí prompt       [AI_SYSTEM ¬ß6.2]
‚ñ° –ö—ç—à —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤: –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞ (hash)
‚ñ° omniscope search --mode semantic "–∏–Ω—Ç—É–∏—Ü–∏—è –ø—Ä–æ ownership"
‚ñ° –ö–æ–Ω—Ñ–∏–≥: [omniscope.rag] enabled=false –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–¥–æ—Ä–æ–≥–æ)
‚ñ° –¢–µ—Å—Ç: —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –Ω–∞—Ö–æ–¥–∏—Ç –∫–Ω–∏–≥—É –ø–æ —Å–º—ã—Å–ª—É –±–µ–∑ —Ç–æ—á–Ω—ã—Ö —Å–ª–æ–≤
```

#### 4.9 –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –∏ –±—é–¥–∂–µ—Ç

```
‚ñ° UserProfile: –∏–Ω—Ç–µ—Ä–µ—Å—ã, –ø–∞—Ç—Ç–µ—Ä–Ω—ã —á—Ç–µ–Ω–∏—è, knowledge_graph           [AI_SYSTEM ¬ß8.1]
‚ñ° –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –Ω–∞ –æ—Å–Ω–æ–≤–µ reading_history (weekly)
‚ñ° enrich_prompt_with_profile() ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –∫ –∫–∞–∂–¥–æ–º—É –∑–∞–ø—Ä–æ—Å—É [AI_SYSTEM ¬ß8.2]
‚ñ° TokenBudget: monthly/daily –ª–∏–º–∏—Ç—ã, –∞–ª–µ—Ä—Ç—ã –ø—Ä–∏ 80%
‚ñ° TUI –≤–∏–¥–∂–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –±—é–¥–∂–µ—Ç–∞: by task, –æ—Ü–µ–Ω–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏         [AI_SYSTEM ¬ß5.3]
‚ñ° ResponseCache: –∫—ç—à summary/tags –ø–æ (book_id, model, file_hash)   [AI_SYSTEM ¬ß5.2]
‚ñ° omniscope ai budget (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤)
‚ñ° –¢–µ—Å—Ç: –±—é–¥–∂–µ—Ç —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ –∫ AI
```

#### 4.10 MCP Server –∏ –≤–Ω–µ—à–Ω–∏–µ –∞–≥–µ–Ω—Ç—ã

```
‚ñ° omniscope mcp start ‚Äî –∑–∞–ø—É—Å–∫ MCP —Å–µ—Ä–≤–µ—Ä–∞                         [AI_SYSTEM ¬ß3.4]
‚ñ° MCP manifest: search_library, get_book, get_library_context, add_book, recommend [AI_SYSTEM ¬ß3.4]
‚ñ° Self-describing API: omniscope help --json, omniscope schema book-card [AI_SYSTEM ¬ß9.1]
‚ñ° omniscope exec / exec-batch ‚Äî –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ actions –∏–∑ stdin/args   [AI_SYSTEM ¬ß9.2]
‚ñ° Batch pipeline: search --ids-only | exec-batch --template        [AI_SYSTEM ¬ß9.3]
‚ñ° Agent safety: watchdog, –ª–∏–º–∏—Ç—ã, –ª–æ–≥ –≤—Å–µ—Ö –∞–≥–µ–Ω—Ç—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π      [AI_SYSTEM ¬ß9.4]
‚ñ° –¢–µ—Å—Ç: Claude Code –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ MCP ‚Üí –≤–∏–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –∫–Ω–∏–≥
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ñ–∞–∑—ã:**
- –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å "—á—Ç–æ –º–Ω–µ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å GPT-4" ‚Üí —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç —Å –∫–Ω–∏–≥–∞–º–∏
- AI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç —Ç–µ–≥–∏ –¥–ª—è 10 –Ω–µ–ø–æ–º–µ—á–µ–Ω–Ω—ã—Ö –∫–Ω–∏–≥
- –ê—É–¥–∏—Ç –Ω–∞–π–¥—ë—Ç –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ —Ç–µ—Å—Ç–æ–≤–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ
- –í–Ω–µ—à–Ω–∏–π —Å–∫—Ä–∏–ø—Ç —á–µ—Ä–µ–∑ CLI –≤—ã–ø–æ–ª–Ω–∏—Ç: –ø–æ–∏—Å–∫ ‚Üí –æ–±–æ–≥–∞—â–µ–Ω–∏–µ ‚Üí —Ç–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- MCP: Claude Desktop –≤–∏–¥–∏—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ —É–º–µ–µ—Ç –∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è

---

### ‚îÄ‚îÄ –§–ê–ó–ê 5: –ò–º–ø–æ—Ä—Ç/–≠–∫—Å–ø–æ—Ä—Ç (2 –Ω–µ–¥–µ–ª–∏) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

**–¶–µ–ª—å:** Migrating from Zotero/Calibre ‚Äî –±–µ–∑–±–æ–ª–µ–∑–Ω–µ–Ω–Ω–æ. –ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Ñ–æ—Ä–º–∞—Ç–æ–≤.

**–í—ã—Ö–æ–¥–Ω–æ–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å Zotero –º–æ–∂–µ—Ç –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ Omniscope –∑–∞ 5 –º–∏–Ω—É—Ç.

```
‚ñ° Zotero JSON export format: –ø–æ–ª–Ω—ã–π –ø–∞—Ä—Å–µ—Ä                         [AI_PLAN ¬ß9.1]
‚ñ° Zotero RDF/XML: –ø–∞—Ä—Å–µ—Ä —á–µ—Ä–µ–∑ quick-xml
‚ñ° Zotero BibTeX: –ø–∞—Ä—Å–µ—Ä —á–µ—Ä–µ–∑ bibtex –∫—Ä–µ–π—Ç
‚ñ° Calibre metadata.db: –ø—Ä—è–º–æ–µ —á—Ç–µ–Ω–∏–µ SQLite + —Ñ–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
‚ñ° BibTeX/BibLaTeX: –ø–æ–ª–Ω—ã–π parser + generator                       [SCIENCE ¬ß5.1]
‚ñ° RIS: import/export                                               [SCIENCE ¬ß5.3]
‚ñ° EndNote XML: import
‚ñ° PubMed NBIB: import
‚ñ° CSV —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º column mapping
‚ñ° Omniscope JSON: –Ω–∞—Ç–∏–≤–Ω—ã–π full backup/restore
‚ñ° –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ (–ø–æ DOI/ISBN/title)
‚ñ° Dry-run –¥–ª—è –≤—Å–µ—Ö –∏–º–ø–æ—Ä—Ç–æ–≤: –ø–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ –±—É–¥–µ—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ
‚ñ° –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –±–æ–ª—å—à–∏—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π
‚ñ° omniscope import zotero / calibre / bibtex / ris / csv
‚ñ° omniscope export json / bibtex / ris / csv / markdown
‚ñ° –¢–µ—Å—Ç: –∏–º–ø–æ—Ä—Ç 500-–∫–Ω–∏–∂–Ω–æ–π Zotero –∫–æ–ª–ª–µ–∫—Ü–∏–∏ ‚Üí 0 –ø–æ—Ç–µ—Ä—å –¥–∞–Ω–Ω—ã—Ö
‚ñ° –¢–µ—Å—Ç: —ç–∫—Å–ø–æ—Ä—Ç ‚Üí –∏–º–ø–æ—Ä—Ç ‚Üí —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ ‚Üí –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
```

---

### ‚îÄ‚îÄ –§–ê–ó–ê 6: –°–µ—Ä–≤–µ—Ä –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (2 –Ω–µ–¥–µ–ª–∏) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

**–¶–µ–ª—å:** –ü–µ—Ä–µ–Ω–æ—Å –∫–Ω–∏–≥ –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç/—Ç–µ–ª–µ—Ñ–æ–Ω —á–µ—Ä–µ–∑ HTTP. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤.

**–í—ã—Ö–æ–¥–Ω–æ–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç:** `omniscope server start` ‚Üí —Å–∫–∞—á–∞—Ç—å –∫–Ω–∏–≥—É –Ω–∞ KOReader —á–µ—Ä–µ–∑ HTTP.

```
‚ñ° axum HTTP —Å–µ—Ä–≤–µ—Ä                                                 [AI_PLAN ¬ß10]
‚ñ° REST API: GET/PUT/POST/DELETE /api/books/{id}
‚ñ° GET /api/books/{id}/file ‚Äî —Å–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª –∫–Ω–∏–≥–∏
‚ñ° POST /api/books/{id}/file ‚Äî –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª
‚ñ° GET /api/search?q=... ‚Äî –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ API
‚ñ° GET /api/library-map ‚Äî Library Map –∫–∞–∫ JSON
‚ñ° WebSocket /ws/events ‚Äî real-time —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
‚ñ° Bearer token –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (OMNISCOPE_SERVER_TOKEN env)
‚ñ° Rate limiting –Ω–∞ API
‚ñ° CORS –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
‚ñ° GET /api/sync/status, POST /api/sync/push, /pull
‚ñ° TUI: :server start 8080, omniscope server start/stop/status
‚ñ° –ö–æ–Ω—Ñ–∏–≥: [server] port=8080, host="127.0.0.1", auth_token_env
‚ñ° –¢–µ—Å—Ç: curl /api/books ‚Üí —Å–ø–∏—Å–æ–∫ JSON; curl /api/books/{id}/file ‚Üí PDF
‚ñ° –¢–µ—Å—Ç: KOReader –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç PDF —Å–∫–∞—á–∞–Ω–Ω—ã–π —Å —Å–µ—Ä–≤–µ—Ä–∞
```

---

### ‚îÄ‚îÄ –§–ê–ó–ê 7: –ü–æ–ª–∏—Ä–æ–≤–∫–∞ –∏ —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ (3 –Ω–µ–¥–µ–ª–∏) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

**–¶–µ–ª—å:** –ü—Ä–æ–¥—É–∫—Ç –∫–æ—Ç–æ—Ä—ã–º –ø—Ä–∏—è—Ç–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è —á—Ç–æ–±—ã AI-–∞–≥–µ–Ω—Ç —Ä–∞–∑–æ–±—Ä–∞–ª—Å—è –±–µ–∑ –ø–æ–¥—Å–∫–∞–∑–æ–∫.

**–í—ã—Ö–æ–¥–Ω–æ–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç:** v1.0.0 –≥–æ—Ç–æ–≤–∞ –∫ –ø—É–±–ª–∏—á–Ω–æ–º—É —Ä–µ–ª–∏–∑—É.

#### 7.1 –í–∏–∑—É–∞–ª—å–Ω–∞—è –ø–æ–ª–∏—Ä–æ–≤–∫–∞

```
‚ñ° –û–±–ª–æ–∂–∫–∏ –∫–Ω–∏–≥: Kitty graphics protocol + Sixel fallback           [AI_PLAN ¬ß12.3]
‚ñ° ASCII art fallback –¥–ª—è –∫–Ω–∏–≥ –±–µ–∑ –æ–±–ª–æ–∂–∫–∏
‚ñ° –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –æ–±–ª–æ–∂–µ–∫ –ø—Ä–∏ –æ–±–æ–≥–∞—â–µ–Ω–∏–∏ (Open Library, Google Books)
‚ñ° –í—Å–µ —Ü–≤–µ—Ç–æ–≤—ã–µ —Ç–µ–º—ã: catppuccin, gruvbox, tokyo-night, nord, rose-pine [AI_PLAN ¬ß12.1]
‚ñ° –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–∏ AI-–æ–ø–µ—Ä–∞—Ü–∏—è—Ö (spinning cursor)
‚ñ° –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π / —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ä–µ–∂–∏–º —Å–ø–∏—Å–∫–∞ –∫–Ω–∏–≥
‚ñ° Smooth scrolling (–≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ –≤ TUI)
```

#### 7.2 –ü–ª–∞–≥–∏–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

```
‚ñ° Lua 5.4 —á–µ—Ä–µ–∑ mlua –∫—Ä–µ–π—Ç
‚ñ° Plugin API: –¥–æ—Å—Ç—É–ø –∫ BookCard, Library Map, Actions
‚ñ° Event hooks: on_add_book, on_open_file, on_ai_complete
‚ñ° –ü—Ä–∏–º–µ—Ä –ø–ª–∞–≥–∏–Ω–∞: auto-tagger –ø–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Ñ–∞–π–ª–∞
‚ñ° ~/.config/omniscope/plugins/ ‚Äî –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø–ª–∞–≥–∏–Ω–æ–≤
‚ñ° :plugins list, :plugins enable/disable
```

#### 7.3 –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

```
‚ñ° README.md: quickstart –∑–∞ 5 –º–∏–Ω—É—Ç
‚ñ° docs/user-guide/: installation, keybindings, search-syntax      [AI_PLAN ¬ß15]
‚ñ° docs/api/: cli-reference, rest-api, mcp-tools, json-schema
‚ñ° docs/ai-integration/: –ø—Ä–∏–º–µ—Ä—ã —Å Claude Code, Gemini CLI
‚ñ° Man pages: omniscope(1), omniscope-search(1), omniscope-ai(1)
‚ñ° CLAUDE.md –≤ –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è ‚Äî –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è AI IDE            [AI_PLAN ¬ß16]
‚ñ° docs/AGENTS.md ‚Äî –∫–∞–∫ –≤–Ω–µ—à–Ω–∏–µ AI-–∞–≥–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å Omniscope
```

#### 7.4 –ö–∞—á–µ—Å—Ç–≤–æ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

```
‚ñ° –í—Å–µ –±–µ–Ω—á–º–∞—Ä–∫–∏ CI –ø—Ä–æ—Ö–æ–¥—è—Ç (—Ö–æ–ª–æ–¥–Ω—ã–π —Å—Ç–∞—Ä—Ç, –ø–æ–∏—Å–∫, CLI)          [AI_PLAN ¬ß17.3]
‚ñ° cargo flamegraph ‚Äî –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ startup path
‚ñ° cargo-bloat ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å —Ä–∞–∑–º–µ—Ä–∞ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞ (—Ü–µ–ª—å: < 15MB)
‚ñ° Fuzzing: cargo-fuzz –¥–ª—è –ø–∞—Ä—Å–µ—Ä–æ–≤ (BibTeX, arXiv ID, DOI, DSL)
‚ñ° E2E —Ç–µ—Å—Ç—ã: –ø–æ–ª–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏–∑ ¬ß6
‚ñ° OMNISCOPE_PERF=1 ‚Äî —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –≤–∫–ª—é—á–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
‚ñ° Sanitizers: –∞–¥—Ä–µ—Å + memory –≤ debug —Å–±–æ—Ä–∫–µ
```

---

## 6. –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–ª—è E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–≠—Ç–∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –≤ –∫–æ–Ω—Ü–µ –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã –∫–∞–∫ smoke tests.

### –°—Ü–µ–Ω–∞—Ä–∏–π A: –û–±—ã—á–Ω—ã–π —á–∏—Ç–∞—Ç–µ–ª—å (–§–∞–∑—ã 1-2)
```
1. –î–æ–±–∞–≤–∏—Ç—å 10 PDF –∫–Ω–∏–≥ –∏–∑ ~/Downloads
2. –û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –≤ 3 –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ 5 —Ç–µ–≥–æ–≤
3. –ù–∞–π—Ç–∏ –≤—Å–µ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ –ø–æ Rust: / ‚Üí #rust s:unread
4. –û—Ç–∫—Ä—ã—Ç—å –ø–µ—Ä–≤—É—é –≤ zathura
5. –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –Ω–∞ "reading": cs ‚Üí reading
6. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –≤ Markdown
```

### –°—Ü–µ–Ω–∞—Ä–∏–π B: –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å (–§–∞–∑–∞ 3)
```
1. –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞—Ç—å—é: omniscope arxiv add 1706.03762 --download-pdf
2. –ò–∑–≤–ª–µ—á—å –≤—Å–µ 41 —Å—Å—ã–ª–∫—É: :refs extract
3. –î–æ–±–∞–≤–∏—Ç—å 5 –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —á–µ—Ä–µ–∑ Anna's Archive
4. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ–≥—Ä–∞—Ñ–∏—é: omniscope export bibtex ~/thesis.bib --style ieee
5. –ù–∞–π—Ç–∏ Open Access PDF –¥–ª—è —Å—Ç–∞—Ç—å–∏ —Å DOI: omniscope oa download {id}
```

### –°—Ü–µ–Ω–∞—Ä–∏–π C: AI –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è (–§–∞–∑–∞ 4)
```
1. –û—Ç–∫—Ä—ã—Ç—å Omniscope —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π –∏–∑ 200 –∫–Ω–∏–≥
2. @ ‚Üí "—á—Ç–æ –º–Ω–µ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π NLP?"
3. –ü—Ä–∏–Ω—è—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –¥–æ–±–∞–≤–∏—Ç—å 3 —Å—Ç–∞—Ç—å–∏
4. :ai audit ‚Üí –∏—Å–ø—Ä–∞–≤–∏—Ç—å 5 –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
5. :ai plan ‚Üí –ø–æ–ª—É—á–∏—Ç—å reading plan –Ω–∞ 3 –º–µ—Å—è—Ü–∞
```

### –°—Ü–µ–Ω–∞—Ä–∏–π D: AI-–∞–≥–µ–Ω—Ç —á–µ—Ä–µ–∑ CLI (–§–∞–∑–∞ 4)
```bash
# –ê–≥–µ–Ω—Ç: "–û—Ä–≥–∞–Ω–∏–∑—É–π –≤—Å–µ —Å—Ç–∞—Ç—å–∏ 2024 –≥–æ–¥–∞ –ø–æ ML –ø–æ –ø–æ–¥—Ç–µ–º–∞–º"
CONTEXT=$(omniscope context --json)
IDS=$(omniscope search "lib:ml-papers y:2024" --json --ids-only)
# –î–ª—è –∫–∞–∂–¥–æ–π ‚Äî –ø–æ–ª—É—á–∏—Ç—å –∫–ª—é—á–µ–≤—ã–µ —Ç–µ–º—ã, —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å, —Å–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫–∏, –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å
omniscope exec-batch < organized_moves.json --json
```

### –°—Ü–µ–Ω–∞—Ä–∏–π E: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (–§–∞–∑–∞ 6)
```
1. omniscope server start --port 8080 --daemon
2. –û—Ç–∫—Ä—ã—Ç—å http://tablet:8080/api/books –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç–µ ‚Üí —Å–ø–∏—Å–æ–∫ –∫–Ω–∏–≥
3. –°–∫–∞—á–∞—Ç—å –∫–Ω–∏–≥—É: curl http://tablet:8080/api/books/{id}/file -o book.pdf
4. –û—Ç–∫—Ä—ã—Ç—å –≤ KOReader –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç–µ
```

---

## 7. –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è AI IDE –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —á—Ç–µ–Ω–∏–µ –¥–ª—è –ª—é–±–æ–≥–æ AI-–∞–≥–µ–Ω—Ç–∞ —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ –Ω–∞–¥ –∫–æ–¥–æ–º.

### 7.1 –ü–µ—Ä–µ–¥ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ–º –∫–æ–¥–∞

```
1. –ü—Ä–æ—á–∏—Ç–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ (—Å–º. –∫–∞—Ä—Ç—É ¬ß0)
2. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ –¥—Ä—É–≥–æ–º –∫—Ä–µ–π—Ç–µ
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SLA –∏–∑ ¬ß4: –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ –¥–æ–ª–∂–Ω–∞ –Ω–∞—Ä—É—à–∞—Ç—å –ª–∏–º–∏—Ç—ã
4. –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç –î–û —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (TDD –¥–ª—è core –ª–æ–≥–∏–∫–∏)
```

### 7.2 –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã –∫–æ–¥–∞

```rust
// –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û: thiserror –¥–ª—è –¥–æ–º–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫, anyhow –¥–ª—è –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è
// –ó–ê–ü–†–ï–©–ï–ù–û: unwrap() / expect() –≤ –ø—Ä–æ–¥–∞–∫—à–Ω –∫–æ–¥–µ (—Ç–æ–ª—å–∫–æ –≤ —Ç–µ—Å—Ç–∞—Ö)
// –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û: async –¥–ª—è –≤—Å–µ–≥–æ I/O, sync –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
// –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û: ratatui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ‚Äî stateless –≤–∏–¥–∂–µ—Ç—ã + –æ—Ç–¥–µ–ª—å–Ω—ã–π State
// –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û: –≤—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã impl Serialize + Deserialize
// –ó–ê–ü–†–ï–©–ï–ù–û: –∑–∞–≥—Ä—É–∂–∞—Ç—å –ø–æ–ª–Ω—ã–µ BookCard –≤ —Å–ø–∏—Å–æ–∫ (—Ç–æ–ª—å–∫–æ BookSummary)
// –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û: –∫–∞–∂–¥–∞—è CLI –∫–æ–º–∞–Ω–¥–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç --json
// –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û: –æ—à–∏–±–∫–∏ –≤ stderr –∫–∞–∫ JSON {status, error{code, message}}
```

### 7.3 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª–µ–π

```
omniscope-core/     –ù–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç TUI. –í—Å—ë —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ.
omniscope-tui/      –ó–∞–≤–∏—Å–∏—Ç –æ—Ç core. –¢–æ–ª—å–∫–æ UI: render + event handling.
omniscope-cli/      –¢–æ–Ω–∫–∞—è –æ–±—ë—Ä—Ç–∫–∞: parse args ‚Üí –≤—ã–∑–≤–∞—Ç—å core ‚Üí –≤—ã–≤–µ—Å—Ç–∏ JSON.
omniscope-ai/       –ó–∞–≤–∏—Å–∏—Ç –æ—Ç core. AiProvider trait + —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.
omniscope-science/  –ó–∞–≤–∏—Å–∏—Ç –æ—Ç core. –í–Ω–µ—à–Ω–∏–µ API + –ø–∞—Ä—Å–µ—Ä—ã —Ñ–æ—Ä–º–∞—Ç–æ–≤.
omniscope-server/   –ó–∞–≤–∏—Å–∏—Ç –æ—Ç core. axum routes ‚Üí –≤—ã–∑–æ–≤—ã core.
```

### 7.4 –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

```bash
cargo build --release --workspace  # –î–æ–ª–∂–µ–Ω —Å–æ–±–∏—Ä–∞—Ç—å—Å—è –±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
cargo test --workspace             # –í—Å–µ —Ç–µ—Å—Ç—ã –∑–µ–ª—ë–Ω—ã–µ
cargo clippy --workspace -- -D warnings  # –ù–æ–ª—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
cargo bench                        # –ë–µ–Ω—á–º–∞—Ä–∫–∏ –≤ –Ω–æ—Ä–º–µ
OMNISCOPE_TIMING=1 target/release/omniscope  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Ä–µ–º—è —Å—Ç–∞—Ä—Ç–∞
OMNISCOPE_PERF=1 target/release/omniscope search "rust"  # –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞
```

### 7.5 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ AI

```
1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å AiProvider trait –≤ omniscope-ai/src/providers/
2. –î–æ–±–∞–≤–∏—Ç—å –≤ AiProviderConfig enum (AI_SYSTEM ¬ß7.2)
3. –î–æ–±–∞–≤–∏—Ç—å –≤ routing rules config (AI_SYSTEM ¬ß7.3)
4. –ù–∞–ø–∏—Å–∞—Ç—å integration test (—Å mock HTTP —Å–µ—Ä–≤–µ—Ä–æ–º)
5. –î–æ–±–∞–≤–∏—Ç—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é docs/ai-integration/
```

---

## 8. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –Ω–∞ –¥–∏—Å–∫–µ

```
~/.config/omniscope/
‚îú‚îÄ‚îÄ config.toml              –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ keybindings.toml         –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏—à
‚îú‚îÄ‚îÄ themes/                  –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–µ–º—ã
‚îÇ   ‚îî‚îÄ‚îÄ mytheme.toml
‚îú‚îÄ‚îÄ plugins/                 Lua –ø–ª–∞–≥–∏–Ω—ã
‚îÇ   ‚îî‚îÄ‚îÄ auto-tagger.lua
‚îî‚îÄ‚îÄ csl-styles/              –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ CSL —Å—Ç–∏–ª–∏

~/.local/share/omniscope/
‚îú‚îÄ‚îÄ cards/                   JSON-–∫–∞—Ä—Ç–æ—á–∫–∏ –∫–Ω–∏–≥
‚îÇ   ‚îî‚îÄ‚îÄ {uuid}.json
‚îú‚îÄ‚îÄ db/
‚îÇ   ‚îú‚îÄ‚îÄ omniscope.db         SQLite: books, tags, libraries, frecency
‚îÇ   ‚îú‚îÄ‚îÄ tantivy/             Full-text –∏–Ω–¥–µ–∫—Å
‚îÇ   ‚îî‚îÄ‚îÄ vectors.usearch      HNSW –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –∏–Ω–¥–µ–∫—Å
‚îú‚îÄ‚îÄ covers/                  –ö—ç—à –æ–±–ª–æ–∂–µ–∫
‚îÇ   ‚îî‚îÄ‚îÄ {uuid}.jpg
‚îú‚îÄ‚îÄ cache/
‚îÇ   ‚îú‚îÄ‚îÄ crossref/            –ö—ç—à CrossRef API
‚îÇ   ‚îú‚îÄ‚îÄ s2/                  –ö—ç—à Semantic Scholar
‚îÇ   ‚îî‚îÄ‚îÄ annas/               –ö—ç—à Anna's Archive
‚îú‚îÄ‚îÄ action_log.jsonl         –õ–æ–≥ –≤—Å–µ—Ö AI-–¥–µ–π—Å—Ç–≤–∏–π (–¥–ª—è undo)
‚îú‚îÄ‚îÄ user_profile.json        –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è
‚îî‚îÄ‚îÄ library_map.json         –ö—ç—à Library Map
```

---

## 9. –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–µ–ª–∏–∑—ã

```
v0.1.0  –§–∞–∑–∞ 0-1: TUI + CRUD + vim motions
v0.2.0  –§–∞–∑–∞ 2: –ü–æ–∏—Å–∫ + DSL + frecency
v0.3.0  –§–∞–∑–∞ 3: –ù–∞—É—á–Ω—ã–π –º–æ–¥—É–ª—å + arXiv + Sci-Hub
v0.4.0  –§–∞–∑–∞ 4: Omniscope AI + Action Protocol + MCP
v0.5.0  –§–∞–∑–∞ 5: –ò–º–ø–æ—Ä—Ç/–≠–∫—Å–ø–æ—Ä—Ç (Zotero, Calibre)
v0.6.0  –§–∞–∑–∞ 6: –°–µ—Ä–≤–µ—Ä + —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
v1.0.0  –§–∞–∑–∞ 7: –ü–æ–ª–∏—Ä–æ–≤–∫–∞ + –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è + –ø–ª–∞–≥–∏–Ω—ã
```

–ö–∞–∂–¥—ã–π minor release ‚Äî –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ —Ä–∞–±–æ—Ç–∞—é—â–∏–π –ø—Ä–æ–¥—É–∫—Ç.
–ù–µ—Ç "—Å–±–æ—Ä–∫–∏ –≤ –∫–æ–Ω—Ü–µ" ‚Äî –∫–∞–∂–¥–∞—è –≤–µ—Ä—Å–∏—è –ø—Ä–∏–≥–æ–¥–Ω–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

---

*–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç ‚Äî –∂–∏–≤–æ–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç. –û–±–Ω–æ–≤–ª—è–π –µ–≥–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π.*
*–ü–µ—Ä–µ–¥ –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–µ–π: –ø—Ä–æ—á–∏—Ç–∞–π –Ω—É–∂–Ω—ã–π —Ä–∞–∑–¥–µ–ª —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏. –ù–µ —É–≥–∞–¥—ã–≤–∞–π ‚Äî —á–∏—Ç–∞–π.*
